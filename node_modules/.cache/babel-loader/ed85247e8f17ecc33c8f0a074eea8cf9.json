{"ast":null,"code":"var _jsxFileName = \"/Users/hichamelkaddouri/Desktop/ok/src/UserAuth/ForgetPwd/ForgetPwd.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as regex from '../Utility/Regex';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport ImgSignUp from '../../Picture/return.png';\nimport './forgetPwd.css';\ntoast.configure();\n\nfunction ForgetPwd({\n  history\n}) {\n  const FIREBASE_API_KEY = 'AIzaSyCO-8B9Zx0Mdwpa7oyA6QWgD5m7bXdNGs4';\n  const [messageError] = useState(\"Votre adresse mail n'est pas valide\");\n  const [email, setEmail] = useState('');\n  const [errorRegex, setErrorRegex] = useState('');\n  useEffect(() => {\n    if (email === '') {\n      setErrorRegex('');\n    }\n  }, [email]);\n\n  const dataInput = e => {\n    const valueInput = e.target.value;\n    valueInput.match(regex.email) ? setErrorRegex('') : setErrorRegex('error');\n    setEmail(valueInput);\n  };\n\n  const dataEmail = {\n    \"requestType\": \"PASSWORD_RESET\",\n    email\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.post(`https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=${FIREBASE_API_KEY}`, dataEmail).then(() => {\n      toast.success(`un mail a étè envoyer a ${email}`, {\n        position: \"top-center\",\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        progress: undefined\n      });\n      setTimeout(() => {\n        history.push('/Login');\n      }, 2000);\n    }).catch(err => {\n      toast.error(\"Adresse email inconnu.\", {\n        position: \"top-right\",\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        progress: undefined\n      });\n    });\n  };\n\n  const btnDisplay = errorRegex !== 'error' && email.length >= 7 ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"sendData\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 71\n    }\n  }, \"Recuperer\") : /*#__PURE__*/React.createElement(\"button\", {\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 123\n    }\n  }, \"Recuperer\");\n  const errorMessage = errorRegex && /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      color: 'red',\n      fontStyle: 'italic'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 41\n    }\n  }, \" \", messageError);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"forgetPasswd_form2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form_left2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form_right2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"returnSignUp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/Login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 44\n    }\n  }, \"  \", /*#__PURE__*/React.createElement(\"img\", {\n    src: ImgSignUp,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 64\n    }\n  }), \"  \"), \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Utilise ton Joker, en indiquant ton adresse mail !\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, \"Mot de passe oublier ?\"), errorMessage, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form_input2\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputBox2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 37\n    }\n  }, \"Email\"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 58\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"email2\",\n    type: \"email\",\n    minLength: \"7\",\n    maxLength: \"30\",\n    placeholder: \"indiquer votre email\",\n    onChange: dataInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 37\n    }\n  })), btnDisplay))));\n}\n\nexport default React.memo(ForgetPwd);","map":{"version":3,"sources":["/Users/hichamelkaddouri/Desktop/ok/src/UserAuth/ForgetPwd/ForgetPwd.jsx"],"names":["React","useState","useEffect","Link","regex","axios","toast","ImgSignUp","configure","ForgetPwd","history","FIREBASE_API_KEY","messageError","email","setEmail","errorRegex","setErrorRegex","dataInput","e","valueInput","target","value","match","dataEmail","handleSubmit","preventDefault","post","then","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","progress","undefined","setTimeout","push","catch","err","error","btnDisplay","length","errorMessage","color","fontStyle","memo"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport * as regex from '../Utility/Regex'\nimport axios from 'axios'\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css' \nimport ImgSignUp from '../../Picture/return.png'\nimport './forgetPwd.css'\n\ntoast.configure();\n\nfunction ForgetPwd({history}) {\n\n\n    const FIREBASE_API_KEY = 'AIzaSyCO-8B9Zx0Mdwpa7oyA6QWgD5m7bXdNGs4'\n\n    const [messageError] = useState(\"Votre adresse mail n'est pas valide\")\n    const [email, setEmail] = useState('')\n    const [errorRegex, setErrorRegex] = useState('')\n\n    useEffect(() => {if(email===''){setErrorRegex('')}},[email])\n\n    const dataInput =(e)=>{\n\n        const valueInput = e.target.value\n        valueInput.match(regex.email) ? setErrorRegex('') : setErrorRegex('error')\n        setEmail(valueInput)\n    }\n\n    const dataEmail = {\"requestType\":\"PASSWORD_RESET\", email }\n\n    const handleSubmit =(e)=>{\n        e.preventDefault()\n\n        axios.post(`https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=${FIREBASE_API_KEY}`,dataEmail).then(()=>{\n            \n        toast.success(`un mail a étè envoyer a ${email}`, {position: \"top-center\", autoClose: 3000, hideProgressBar: false,closeOnClick: true,pauseOnHover: false,progress: undefined});\n        setTimeout(() => {\n            history.push('/Login')\n        }, 2000);\n\n        }).catch((err)=>{\n            toast.error(\"Adresse email inconnu.\", \n            {position: \"top-right\", autoClose: 3000, hideProgressBar: false,closeOnClick: true,pauseOnHover: false,progress: undefined});\n        })\n    }\n\n    const btnDisplay = errorRegex !== 'error' && email.length >= 7 ? (<button className='sendData'>Recuperer</button>) : (<button disabled>Recuperer</button>)\n    const errorMessage = errorRegex && (<h3 style={{ color: 'red', fontStyle: 'italic'}}> {messageError}</h3>)\n\n    return (\n        <div className='forgetPasswd_form2'>\n        <div className='container2'>  \n            <div className='form_left2'></div>\n            <div className='form_right2'>\n            <div className='returnSignUp'> <Link to='/Login'>  <img src={ImgSignUp} alt=\"\"/>  </Link> </div>\n\n                <p>Utilise ton Joker, en indiquant ton adresse mail !</p>\n                    <h2>Mot de passe oublier ?</h2>\n                        {errorMessage}\n                        <form className='form_input2' onSubmit={handleSubmit}>\n                                <div className='inputBox2'>\n                                    <label>Email</label> <br/>\n                                    <input id='email2' type='email'  minLength=\"7\" maxLength=\"30\"\n                                    placeholder='indiquer votre email'\n                                    onChange={dataInput}></input>\n                                </div>\n                                {btnDisplay}\n                        </form>\n    \n            </div>\n        </div> \n    </div>    \n           \n    )\n}\n\nexport default React.memo(ForgetPwd)\n"]},"metadata":{},"sourceType":"module"}