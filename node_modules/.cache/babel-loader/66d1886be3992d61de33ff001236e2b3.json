{"ast":null,"code":"var _jsxFileName = \"/Users/hichamelkaddouri/Desktop/ok/src/MyCompte/NewsLetter/NewsLetter.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport './newsLetter.css';\nimport LeftItems from '../Left_Items/Left_Items';\nimport Switch from \"react-switch\";\nimport emailjs from 'emailjs-com';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\ntoast.configure();\n\nfunction NewsLetter() {\n  const [news, setNews] = useState(false);\n  const [name, setName] = useState('');\n  const [mail, setMail] = useState('');\n  useEffect(() => {\n    axios.get(`https://hypertube-6cd18.firebaseio.com/${localStorage.getItem('localId')}/users.json`).then(response => {\n      setName(response.data.firstName);\n      setMail(response.data.email);\n    });\n    axios.get(`https://hypertube-6cd18.firebaseio.com/${localStorage.getItem('localId')}/Newsletter.json`).then(response => {\n      setNews(response.data.value);\n    });\n  }, []);\n  useEffect(() => {\n    if (news) {\n      const valueNews = {\n        value: true\n      };\n      axios.put(`https://hypertube-6cd18.firebaseio.com/${localStorage.getItem('localId')}/Newsletter.json`, valueNews);\n      const templateParams = {\n        name: name,\n        email: mail\n      };\n      emailjs.send('service_zqomxtc', 'template_q5iv6m5', templateParams, 'user_pdXIIKrmUuVWMAxexdfLi').then(result => {});\n    } else {\n      const valueNews = {\n        value: false\n      };\n      axios.put(`https://hypertube-6cd18.firebaseio.com/${localStorage.getItem('localId')}/Newsletter.json`, valueNews).then(response => {});\n    }\n  }, [news]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"containerProfil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"leftContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'white',\n      paddingLeft: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \" Mon compte \"), /*#__PURE__*/React.createElement(LeftItems, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rightContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      fontFamily: 'Lexend Peta'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"NewsLetter\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: 'center',\n      fontFamily: 'Lexend Peta'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Renstons en contact et profiter des films en avant premieres \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"news_content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"news_Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, \" NewsLetters \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"news_Letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"news_Paragraphe\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    id: \"textAdvice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  }, \" Pour vous permettre d'\\xEAtre \\xE0 la page des nouveaut\\xE9s, pensez \\xE0 y souscrire  \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"news_Switch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    onChange: () => setNews(!news),\n    checked: news,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }))))));\n}\n\nexport default NewsLetter;","map":{"version":3,"sources":["/Users/hichamelkaddouri/Desktop/ok/src/MyCompte/NewsLetter/NewsLetter.jsx"],"names":["React","useState","useEffect","LeftItems","Switch","emailjs","axios","toast","configure","NewsLetter","news","setNews","name","setName","mail","setMail","get","localStorage","getItem","then","response","data","firstName","email","value","valueNews","put","templateParams","send","result","color","paddingLeft","fontFamily","textAlign"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport './newsLetter.css'\nimport LeftItems from '../Left_Items/Left_Items'\nimport Switch from \"react-switch\";\nimport emailjs from 'emailjs-com';\nimport axios from 'axios';\nimport { toast} from 'react-toastify';\ntoast.configure();\n\nfunction NewsLetter() {\n\n    const [news, setNews] = useState(false)\n    const [name, setName] = useState('')\n    const [mail, setMail] = useState('')\n\n    useEffect(() => {\n         \n        axios.get(`https://hypertube-6cd18.firebaseio.com/${localStorage.getItem('localId')}/users.json`)\n        .then(response =>{\n            setName(response.data.firstName)\n            setMail(response.data.email)})\n        axios.get(`https://hypertube-6cd18.firebaseio.com/${localStorage.getItem('localId')}/Newsletter.json`)\n        .then(response=>{\n            setNews(response.data.value)\n        })\n    }, [])\n\n    useEffect(() => {\n        if(news){\n            const valueNews={value: true}\n            axios.put(`https://hypertube-6cd18.firebaseio.com/${localStorage.getItem('localId')}/Newsletter.json`,valueNews)\n\n            const templateParams ={\n                name: name,\n                email: mail\n            } \n\n            emailjs.send('service_zqomxtc','template_q5iv6m5',templateParams,'user_pdXIIKrmUuVWMAxexdfLi').then((result) => { })\n\n        }\n        else{\n            const valueNews={value: false}\n            axios.put(`https://hypertube-6cd18.firebaseio.com/${localStorage.getItem('localId')}/Newsletter.json`,valueNews).then(response =>{\n\n            })\n        }\n    }, [news])\n\n    return (\n        <div className='containerProfil'>\n            <div className='leftContainer'>\n                <p style={{color:'white', paddingLeft:'15px'}}> Mon compte </p>\n                <LeftItems />\n            </div>\n\n            <div className='rightContainer'>\n                <h3 style={{fontFamily: 'Lexend Peta'}}>NewsLetter</h3>\n                <p style={{textAlign: 'center',fontFamily: 'Lexend Peta'}}>Renstons en contact et profiter des films en avant premieres </p>\n                <div className='news_content'>\n                    <div className='news_Title'>\n                        <h4> NewsLetters </h4>\n                    </div>\n                    <div className='news_Letter'>\n                        <div className='news_Paragraphe'>\n                            <p id=\"textAdvice\"> Pour vous permettre d'être à la page des nouveautés, pensez à y souscrire  </p>\n                        </div>\n                        <div className='news_Switch'>\n                            <Switch onChange={()=>setNews(!news)}  checked={news} />\n                            \n                        </div>\n                        \n                    </div>\n                </div>\n            </div>\n\n        </div>\n    )\n}\n\nexport default NewsLetter\n\n\n\n"]},"metadata":{},"sourceType":"module"}