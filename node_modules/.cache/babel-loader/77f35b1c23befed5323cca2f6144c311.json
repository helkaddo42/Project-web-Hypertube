{"ast":null,"code":"var _jsxFileName = \"/Users/hichamelkaddouri/Desktop/ok/src/MyCompte/Profil/ImgUser/ImgUser.jsx\";\nimport React, { Component } from 'react';\nimport './imgUser.css';\nimport firebase from './../../../Firebase';\nimport { toast } from 'react-toastify';\nimport Button from '@material-ui/core/Button';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport AddIcon from '@material-ui/icons/Add';\ntoast.configure();\n\nclass ImgUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      file: null\n    };\n\n    this.fileImg = img => {\n      this.setState({\n        file: img\n      });\n    };\n\n    this.SubmitImg = () => {\n      if (this.state.file) {\n        console.log(this.state.file);\n        let file = this.state.file[0];\n        let storageRef = firebase.storage().ref(`${localStorage.getItem('localId')}/images/${file}`);\n        let upload = storageRef.put(file);\n        upload.on(firebase.storage.TaskEvent.STATE_CHANGED);\n        toast.success(`votre image a bien étè charger`, {\n          position: \"top-center\",\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: false,\n          progress: undefined\n        });\n      } else {\n        toast.dark(`Aucune image n'a étè selectionner !`, {\n          position: \"top-center\",\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: false,\n          progress: undefined\n        });\n      }\n    };\n\n    this.ShowImg = () => {\n      if (this.state.file) {\n        let file = this.state.file[0];\n        let storageRef = firebase.storage().ref();\n        storageRef.child(`${localStorage.getItem('localId')}/images/${file}`).getDownloadURL().then(url => {\n          document.getElementById('picture').src = url;\n        });\n      } else {\n        toast.error(`Aucune image n'a étè charger !`, {\n          position: \"top-center\",\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: false,\n          progress: undefined\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    let storage = firebase.storage().ref(`${localStorage.getItem('localId')}/images/`);\n    storage.listAll().then(function (url) {\n      if (url) {\n        let pathImg = url.items[0].location.path_;\n        var pathReference = firebase.storage().ref(`${pathImg}`);\n        pathReference.getDownloadURL().then(res => {\n          document.getElementById('picture').src = res;\n        });\n      }\n    }).catch(err => {\n      this.setState({\n        file: 'https://lebackyard.fr/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png'\n      });\n      document.getElementById('picture').src = this.state.file;\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"blockPicture\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        color: 'white',\n        fontFamily: 'Lexend Peta'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, \" Photo \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"picture\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"picture\",\n      alt: \"ok\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"file\",\n      type: \"file\",\n      onChange: e => {\n        this.fileImg(e.target.files);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      starticon: /*#__PURE__*/React.createElement(AddIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 47\n        }\n      }),\n      id: \"ok\",\n      htmlFor: \"file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 33\n      }\n    }, \"add_photo_alternate\"), \" \\xA0 Choose picture\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"default\",\n      startIcon: /*#__PURE__*/React.createElement(CloudUploadIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 40\n        }\n      }),\n      onClick: this.SubmitImg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }, \"Upload\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      startIcon: /*#__PURE__*/React.createElement(VisibilityIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 40\n        }\n      }),\n      onClick: this.ShowImg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, \"Show\"))));\n  }\n\n}\n\nexport default ImgUser;","map":{"version":3,"sources":["/Users/hichamelkaddouri/Desktop/ok/src/MyCompte/Profil/ImgUser/ImgUser.jsx"],"names":["React","Component","firebase","toast","Button","CloudUploadIcon","VisibilityIcon","AddIcon","configure","ImgUser","state","file","fileImg","img","setState","SubmitImg","console","log","storageRef","storage","ref","localStorage","getItem","upload","put","on","TaskEvent","STATE_CHANGED","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","progress","undefined","dark","ShowImg","child","getDownloadURL","then","url","document","getElementById","src","error","componentDidMount","listAll","pathImg","items","location","path_","pathReference","res","catch","err","render","color","fontFamily","e","target","files"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './imgUser.css'\nimport firebase from './../../../Firebase'\nimport { toast} from 'react-toastify';\nimport Button from '@material-ui/core/Button';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport AddIcon from '@material-ui/icons/Add';\ntoast.configure();\n\n\n\nclass ImgUser extends Component{\n\n    state={\n        file: null,\n    }\n\n\n\n    componentDidMount(){\n\n            let storage = firebase.storage().ref(`${localStorage.getItem('localId')}/images/`);\n\n            storage.listAll()\n            .then(function(url) {\n                if (url) {\n                    let pathImg = url.items[0].location.path_;\n                    var pathReference = firebase.storage().ref(`${pathImg}`);\n                    pathReference.getDownloadURL()\n                    .then(res=>{\n                        document.getElementById('picture').src=res\n                    })\n                }\n            })\n            .catch(err => {\n                this.setState({file : 'https://lebackyard.fr/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png'})\n                document.getElementById('picture').src=this.state.file\n\n            })\n\n    \n    }\n\n    fileImg =(img)=>{ \n        this.setState({ \n            file: img,\n        }) }\n\n    SubmitImg=()=>{\n        if(this.state.file){\n            console.log(this.state.file)\n           \n            let file = this.state.file[0];\n            let storageRef = firebase.storage().ref(`${localStorage.getItem('localId')}/images/${file}`);\n            let upload = storageRef.put(file);\n            upload.on(firebase.storage.TaskEvent.STATE_CHANGED)\n            toast.success(`votre image a bien étè charger`, {position: \"top-center\", autoClose: 3000, hideProgressBar: false,closeOnClick: true,pauseOnHover: false,progress: undefined})\n        }\n        else{\n            toast.dark(`Aucune image n'a étè selectionner !`, {position: \"top-center\", autoClose: 3000, hideProgressBar: false,closeOnClick: true,pauseOnHover: false,progress: undefined})\n\n        }\n      \n    }\n\n    ShowImg =()=>{\n        if(this.state.file){\n\n            let file = this.state.file[0];\n            let storageRef = firebase.storage().ref();\n            storageRef.child(`${localStorage.getItem('localId')}/images/${file}`).getDownloadURL().then(url =>{\n                document.getElementById('picture').src=url\n\n            })\n        }\n        else{\n            toast.error(`Aucune image n'a étè charger !`, {position: \"top-center\", autoClose: 3000, hideProgressBar: false,closeOnClick: true,pauseOnHover: false,progress: undefined})\n\n        }\n    }\n\n\n    render(){\n        return (\n            <div className='blockPicture' >\n                <div className='title'>\n                    <h4 style={{color:'white',fontFamily: 'Lexend Peta'}}> Photo </h4>\n                </div>\n                <div className='content'>\n                    <div className='picture'>\n                        <img id='picture' alt='ok'></img>\n                    </div>\n                    <div className='action'>\n                        <input id='file' type='file' onChange={e => {this.fileImg(e.target.files) }}/>\n                            <label starticon={<AddIcon/>} id='ok' htmlFor='file'> \n                                <i className=\"material-icons\">\n                                add_photo_alternate\n                                </i> &nbsp;\n                                    Choose picture\n                            </label>\n                        <Button\n                            variant=\"contained\"\n                            color=\"default\"\n                            startIcon={<CloudUploadIcon/>}\n                            onClick={this.SubmitImg}\n                        >\n                            Upload\n                        </Button>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            startIcon={<VisibilityIcon/>}\n                            onClick={this.ShowImg}\n                        >\n                            Show\n                        </Button>\n                    </div>\n\n                </div>\n            </div>\n    \n        )\n\n    }\n   \n}\n\nexport default ImgUser\n"]},"metadata":{},"sourceType":"module"}